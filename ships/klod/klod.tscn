[gd_scene load_steps=15 format=3 uid="uid://cadc7ajjrypd3"]

[ext_resource type="PhysicsMaterial" uid="uid://dgwq5sy5q64q6" path="res://resources/bouncy.tres" id="1_cc6rx"]
[ext_resource type="Script" uid="uid://c5x5wgaww3mj" path="res://ships/klod/klod.gd" id="2_7h60n"]
[ext_resource type="Script" uid="uid://cuj2cdqgrpu2g" path="res://classes/attack.gd" id="3_rnk4i"]
[ext_resource type="PackedScene" uid="uid://bi35p88q2yiy4" path="res://components/clip_component/clip_component.tscn" id="4_a6d1k"]
[ext_resource type="PackedScene" uid="uid://ddy4kejr8vdr3" path="res://components/health_component/health_component.tscn" id="5_7cw5v"]
[ext_resource type="Texture2D" uid="uid://cd8j4f10lxhvb" path="res://ships/klod/klod.png" id="6_tv00m"]
[ext_resource type="PackedScene" uid="uid://o7oexbfw62cw" path="res://components/hitbox_component/hitbox_component.tscn" id="7_ufl1k"]
[ext_resource type="PackedScene" uid="uid://b2oi0bk733qru" path="res://components/input_component/input_component.tscn" id="8_cr162"]
[ext_resource type="PackedScene" uid="uid://cxpxgsvcevmjt" path="res://components/meter/meter.tscn" id="9_ysymi"]

[sub_resource type="Resource" id="Resource_vp66k"]
script = ExtResource("3_rnk4i")
attack_damage = 0.0
knockback_force = 128.0
origin_name = "Klod"
attack_type = 1

[sub_resource type="Resource" id="Resource_xm56b"]
script = ExtResource("3_rnk4i")
attack_damage = 30.0
knockback_force = 64.0
origin_name = "Klod"
attack_type = 1

[sub_resource type="Resource" id="Resource_aa1fy"]
script = ExtResource("3_rnk4i")
attack_damage = 20.0
knockback_force = 64.0
origin_name = "Klod"
attack_type = 1

[sub_resource type="CircleShape2D" id="CircleShape2D_jlbd3"]
radius = 6.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_e7k5i"]
size = Vector2(86, 48)

[node name="Klod" type="RigidBody2D" node_paths=PackedStringArray("clip_component", "punch_area", "stasis_bar", "hitbox", "input") groups=["Player", "Player1"]]
collision_layer = 8
collision_mask = 41
physics_material_override = ExtResource("1_cc6rx")
inertia = 18.0
continuous_cd = 2
angular_damp = 3.0
script = ExtResource("2_7h60n")
clip_component = NodePath("ClipComponent")
punch_area = NodePath("PunchArea")
stasis_bar = NodePath("StasisBar")
push_attack = SubResource("Resource_vp66k")
debris_attack = SubResource("Resource_xm56b")
weight_attack = SubResource("Resource_aa1fy")
hitbox = NodePath("HitboxComponent")
input = NodePath("InputComponent")
rotation_speed = 500.0
acceleration = 204.0
back_acceleration = 204.0
top_speed = 96.0

[node name="ClipComponent" parent="." node_paths=PackedStringArray("clip_bar") instance=ExtResource("4_a6d1k")]
position = Vector2(5, 0)
clip_bar = NodePath("../ClipBar")
max_clip = 3
reload_time = 0.5
reload_delay = 1.0
fire_delay = 0.1

[node name="HealthComponent" parent="." node_paths=PackedStringArray("health_bar", "target") instance=ExtResource("5_7cw5v")]
health_bar = NodePath("../HealthBar")
max_health = 120.0
target = NodePath("..")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("6_tv00m")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_jlbd3")

[node name="PunchArea" type="Area2D" parent="."]
position = Vector2(-6, 0)
collision_layer = 128
collision_mask = 37

[node name="CollisionShape2D" type="CollisionShape2D" parent="PunchArea"]
position = Vector2(43, 0)
shape = SubResource("RectangleShape2D_e7k5i")

[node name="HitboxComponent" parent="." node_paths=PackedStringArray("health_comp", "target") groups=["Player", "Player1"] instance=ExtResource("7_ufl1k")]
collision_layer = 2
collision_mask = 148
health_comp = NodePath("../HealthComponent")
target = NodePath("..")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="HitboxComponent"]
polygon = PackedVector2Array(5, 0, 2, -5, -2, -7, -5, -3, -5, 3, -2, 7, 2, 5)

[node name="InputComponent" parent="." node_paths=PackedStringArray("target") instance=ExtResource("8_cr162")]
target = NodePath("..")

[node name="HealthBar" parent="." instance=ExtResource("9_ysymi")]
offset_left = 8.0
offset_top = -5.0
offset_right = 9.0
offset_bottom = -4.0
rotation = 3.66519

[node name="ClipBar" parent="." instance=ExtResource("9_ysymi")]
offset_left = 10.0
offset_top = 7.0
offset_right = 11.0
offset_bottom = 8.0
rotation = 2.61799

[node name="StasisBar" parent="." instance=ExtResource("9_ysymi")]
offset_left = -8.0
offset_top = -8.0
offset_right = -7.0
offset_bottom = -7.0
rotation = 1.57079
fill_mode = 6
